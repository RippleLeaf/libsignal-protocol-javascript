\documentclass{article}
\usepackage[utf8]{inputenc}

\title{CS6431 Project Report}
\author{Wei-kai Lin, Yue Guo}
% \date{February 2018}

\usepackage{natbib}
% \usepackage{siunitx} % Provides the \SI{}{} and \si{} command for typesetting SI units
\usepackage{graphicx} % Required for the inclusion of images
\usepackage{natbib} % Required to change bibliography style to APA
\usepackage{amsmath} % Required for some math elements 
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsmath,amsthm,amstext,amssymb,amsfonts,latexsym}
\usepackage{verbatim}
\usepackage{hyperref}
\usepackage{geometry}
% \geometry{left=3cm, right=3cm, top=3.5cm, bottom=3.5cm}
\usepackage{comment}
\usepackage{enumitem}
\usepackage{color}

\usepackage{pgfplots}
\pgfplotsset{width = 5.9cm, compat=1.5}

\definecolor{blue1}{rgb}{0.4,0.4,0.7}
\definecolor{blue2}{rgb}{0.3,0.3,0.8}
\definecolor{blue3}{rgb}{0.2,0.2,0.9}

\newcommand{\yue}[1]{\textcolor{red}{[yue: #1]}}
\newcommand{\weikai}[1]{\textcolor{blue}{[weikai: #1]}}

\begin{document}
\maketitle

\begin{abstract}
    
\end{abstract}

\section{Introduction}

\section{Related Work}
\subsection{Facebook}


\section{Implementation of Message Franking}

Adding message franking to an existing end-to-end encrypted
messaging protocol incurs interface change on both client and server side.
The interface of Sender ({\tt encrypt}) doesn't change,
which takes as input a plaintext
although outputs a cipher message in a new format.
However, the interface of Receiver ({\tt decrypt}),
after takes as input a cipher message,
outputs not only a plaintext but also an opening or \emph{proof},
where the proof is needed 
whenever Receiver wants to report the plaintext to Server.
Finally, to verify a pair of plaintext and proof,
in our implementation,
Server \emph{forwards and tags} the cipher message in the sending phase,
and thus it is necessary to use the new format of the cipher message
to efficiently compute the tag.
In the following, we describe such interface and its usage,
and then, some implementation details are shown 
regarding the security and efficiency.
\weikai{define sending phase and reporting phase}

\subsection{New Interfaces of Library}

We implement Committing Encrypt-then-PRF on {\tt libsignal-protocol-javascript},
the Signal Protocol library for JavaScript.
The following interface works directly in JavaScript,
but it is straightforward to 
implement them on the library for Java or for C
given that it was already implemented using Protocol Buffers\footnote{
See https://developers.google.com/protocol-buffers/.
}.



\paragraph{Client-side Interface}




\paragraph{Server-side Interface}



\subsection{Usage}



\subsection{Security and Implementation Details}






\input{discussion}






\bibliographystyle{plain}
\bibliography{references}
\end{document}
